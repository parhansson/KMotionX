<!DOCTYPE html>

<html>

<head>



<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>

<meta http-equiv="Pragma" content="no-cache"/>

<meta http-equiv="Expires" content="0"/>



<meta name="keywords" content="ethernet 16-axis controller, cnc control, motion control, cnc boards, 4-axis, 8-axis, stepper, brushless, DC motor, servo, encoder, adc, dac, motion controller, automated motion, manufacturing, Mach3">

<meta name="description" content="Manufacturer of premium motion control products for CNC Manufacturing, Robotics and Automation">

<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

<meta http-equiv="Content-Language" content="en-us">



<title>KNozz Connectors</title>



<link rel="stylesheet" type="text/css" href="../css/style.css">

<link rel="stylesheet" href="../css/prism.css" data-noprefix />

<script src="../js/prism.js"></script>

</head>



<body>



<div id="logo"><a href="../index.htm"></a></div>

<div id="home">
<a href="../index.htm">Table of contents</a> |  
	<script>
		if (navigator.userAgent.indexOf("NT 6.2") == -1){
			document.write('<a href="https://www.dynomotion.com">Dynomotion home page</a>')
		} else {
			document.write('<a href="https://www.dynomotion.com" target="_blank">Dynomotion home page</a>')
		}
	</script>
</div>
	
<div id="searchNav">

	<div class="gcse-search">
					<script>
					  if (document.location.protocol  ==  'https:') {
					  (function() {
					  var cx = '012657033059195044748:9fmjmlufts0';
					  var gcse = document.createElement('script');
					  gcse.type = 'text/javascript';
					  gcse.async = true;
					  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					      '//cse.google.com/cse.js?cx=' + cx;
					  var s = document.getElementsByTagName('script')[0];
					  s.parentNode.insertBefore(gcse, s);
					})();
					  }
				      </script> 
				      <gcse:search> </gcse:search>  

	       </div>
</div>	

	


<div id="google_translate_element" style="background: transparent;" align="right"><script type="text/javascript">
if (navigator.userAgent.indexOf("NT 6.2") == -1) {
		function googleTranslateElementInit() {
	  new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'en,de,fr,it,es,pt,ru,uk,ar,zh-CN,zh-TW,ko,iw,hi,ja,tr', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
		}						}
	</script>
	<script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
	</script>
</div>		
<div id="main">



<h1>KNozz - Connector Pinouts</h1>



<p><img src="images/KNozz500Labels.png" alt="KNozz Labels" /></p>



<h2>KNozz Connection to KFLOP/Kogna JP1</h2>



<p><img src="images/KNozz-to-KFLOP.jpg" alt="KNozz-to-KFLOP-JP1" /></p>



<p>JP1 provides all internal signal and power connections to KFLOP/Kogna. This 

  16 pin ribbon connection should be as short as possible to avoid noise and 

  crosstalk as the cable forms a high speed communication link. It can be connected to either KFLOP/Kogna JP4 or JP6.  However for the Analog Output to be functional JP6 must be used which has KFLOP's/Kogna's PWM Outputs.</p>

<p>PWMIN is used for the isolated Analog Output.BED HEAT and NOZ Heat control the two High power FET outputs.The ADC signals are SPI signals to the dual channel ADC for reading the Thermistor Temperature readings.  See KNozz C Program Examples.</p>



<table>

  <tr>

    <th>Pin</th>

    <th>KFLOP/Kogna Name (JP4)</th>

    <th>KFLOP/Kogna Name (JP6)</th>

    <th>KNozz Name</th>

  </tr>

  <tr>

    <td>      

    1</td>

    <td>VDD5</td>

    <td>

    VDD5</td>

    <td>

	

	VDD5</td>

  </tr>

  <tr>

    <td>

      

    2</td>

    <td>VDD12</td>

    <td>

    VDD12</td>

    <td></td>

  </tr>

  <tr>

    <td>      

    3</td>

    <td>VDD33</td>

    <td>

    VDD33</td>

    <td>

	

	VDD33</td>

  </tr>

  <tr>

    <td>      

    4</td>

    <td>RESET#</td>

    <td>

    RESET#</td>

    <td></td>

  </tr>

  <tr>

    <td>      

    5</td>

    <td> IO16</td>

    <td>      

    IO26</td>

    <td>

	

	PWMIN</td>

  </tr>

  <tr>

    <td>

      

    6</td>

    <td> IO17</td>

    <td>

      

    IO27</td>

    <td></td>

  </tr>

  <tr>

    <td>

    7</td>

    <td> IO18</td>

    <td>

      

    IO28</td>

    <td></td>

  </tr>

  <tr>

    <td>

      

    8</td>

    <td>GND</td>

    <td>

    GND</td>

    <td>

	

	GND</td>

  </tr>

  <tr>

    <td>

    9</td>

    <td>GND</td>

    <td>

    GND</td>

    <td>

	GND</td>

  </tr>

  <tr>

    <td>

    10</td>

    <td>IO19</td>

    <td>

    IO29</td>

    <td>

	</td>

  </tr>

  <tr>

    <td>

    11</td>

    <td>IO20</td>

    <td>

    IO30</td>

    <td>BED HEAT</td>

  </tr>

  <tr>

    <td>

    12</td>

    <td>IO21</td>

    <td>

    IO31</td>

    <td>NOZ HEAT</td>

  </tr>

  <tr>

    <td>

    13</td>

    <td>IO22</td>

    <td>

    IO32</td>

    <td>ADC DIN</td>

  </tr>

  <tr>

    <td>

    14</td>

    <td>IO23</td>

    <td>

    IO33</td>

    <td>ADC #CS</td>

  </tr>

  <tr>

    <td>

    15</td>

    <td>IO24</td>

    <td>

    IO34</td>

    <td>ADC DOUT</td>

  </tr>

  <tr>

    <td>

    16</td>

    <td>IO25</td>

    <td>

    IO35</td>

    <td>ADC CLK</td>

  </tr>

</table>



<p><img src="images/KNozz-JP1.jpg" alt="KNozz-JP1.jpg" /></p>



<h2>KNozz J1 and J2 High Power FET Outputs</h2>



<p>KNozz provides two independent opto isolated high current FET switch outputs.Although 3D Printer Bed Heaters are often driven with a 24V supply and Nozzle Heaters are often driven by a 12V supply any voltage from 12 to 48V can be applied and switched.</p>



<p>Connect the + Supply Voltage to Bed24V (or Noz12V) and the Supply GND to BedGND (or NozGND). Connect the Heater Element between Bed24V (or Noz12V) and the BedNeg (or NozNeg) terminals. The &quot;Neg&quot; terminals are driven the Supply GND when active and open circuit when inactive.</p>



<p>Both Outputs have an associated LED to indicate when Voltage is applied to the Output. The Output and LED will only be active when the WatchDog is active, the associated input is being driven, and a power supply is attached and providing power.</p>



<p>The BED HEAT (or NOZ HEAT) inputs are active high (they must be driven &gt; 2.0V to enable the FET Outputs).</p>



<p><img src="images/KNozzJ1.png" width="307" height="151" alt="KNozzJ1" /></p>

<p><img src="images/KNozz-J1.jpg" width="210" height="130" alt="KNozzJ1" /></p>

<p><img src="images/KNozzJ2.png" width="293" height="144" alt="KNozzJ2" /></p>

<p><img src="images/KNozz-J2.jpg" alt="KNozzJ2"/></p>



<h2>KNozz J3 Analog Output</h2>



<p>KNozz provides one opto isolated Analog output.A positive isolated supply voltage should be applied across AnalogVcc and AnalogGnd. The AnalogOut voltage will then be a function of the PWM duty cycle. Note the Output is normally isolated from KFLOP GND so make sure to use the AnalogGnd as the voltage reference.</p>



<p>The PWM input pin is Pin5 of JP1. KFLOP JP6 Aux1 connector has PWM0 output on this pin. The AnalogOut function will only work when KNozz is connected to KFLOP JP6 Aux1.</p>



<p>The PWM to Analog Circuit used is the same as for KStep. See the KStep documentation for more information.</p>

<p>See the Spindle_S_KNozz.c example for how to interface KMotionCNC's S command to the Analog Output.</p>

<p>A Terminal with +5V connected to KFLOP +5V is also provided.</p>



<p><img src="images/KNozzJ3.png"  alt="KNozz-J3" /></p>

<p><img src="images/KNozz-J3.jpg" alt="KNozz-J3" /></p>



<h2>KNozz J4 Thermistor Analog Inputs</h2>



<p>KNozz provides two 12-bit analog inputs normally used for Nozzle and Bed Temperature measurement.  A C Program running in KFLOP/Kogna is normally used to bit-bang SPI to read the ADC values, determine the temperatures, and control the Heaters. See the C Program KNozz Examples.</p>



<p>A single 3.3V (+/-1%) Reference is also provided that is also used for the Internal ADC Converter. Normally Thermistors used with 3D Printers change resistance from ~100K ohms at room temperature to ~5K ohms at build temperature.  The external Themistor should be connected between the VREF terminal and the NOZZ (or BED) Terminals.</p>

<p>A Thermistor and internal 10K ohm (+/- 1%) resistor form a Voltage divider.  See the circuit below. </p>

<p>The relationship between input Voltage to ADC reading in counts is:</p>



<p><strong><em>ADC = 4095 x Vin / VREF</em></strong></p>

<p>The relationship between Thermistor resistance R and ADC reading in counts is:</p>

<p><strong><em>ADC = 4095 x 10K / (10K + R)</em></strong></p>



<p><img src="images/KNozzJ4.png" alt="KNozzJ4" /></p>

<p><img src="images/KNozz-J4.jpg"  alt="KNozzJ4" /></p>



<p>Each Thermistor input circuit includes a filter capacitor (0.1uF) that will slow response and reduce noise. The response time will change depending how the input is driven but at high resistance the input response will be: </p>

<p><em><strong>Tau = RC = 10K x 0.1uF = 1ms</strong></em></p>



<p><img src="images/Themistor.png" width="426" height="243" alt="Themistor" /></p>



<h2>WatchDog</h2>



<p>KNozz includes a WatchDog Circuit to help avoid thermal runaway of the Heaters if the FET Outputs are somehow turned on while the temperatures are not being actively monitored.   To read the temperatures the ADC CLK input must be toggled. If the ADC Clock stops togging, then the WatchDog Circuit trips and disables both FET Outputs after approximately 3ms. The WatchDog LED illuminates when the ADC Clock is toggling and the Outputs are enabled to be turned on.</p>



	<p>&nbsp;</p>



	</div>

</body>



</html>