<!DOCTYPE html>
<html>
<head>

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="Expires" content="0"/>

<meta name="keywords" content="ethernet 16-axis controller, cnc control, motion control, cnc boards, 4-axis, 8-axis, stepper, brushless, DC motor, servo, encoder, adc, dac, motion controller, automated motion, manufacturing, Mach3">
<meta name="description" content="Manufacturer of premium motion control products for CNC Manufacturing, Robotics and Automation">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta http-equiv="Content-Language" content="en-us">

<title>Using Multiple KMotion Boards</title>

<link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>

<div id="logo"><a href="index.htm"></a></div>

<div id="home">
	<a href="index.htm">Table of contents</a> | 
	<script>
		if (navigator.userAgent.indexOf("NT 6.2") == -1){
			document.write('<a href="https://www.dynomotion.com">Dynomotion home page</a>')
		} else {
			document.write('<a href="https://www.dynomotion.com" target="_blank">Dynomotion home page</a>')
		}
	</script>
</div>
<div id="searchNav">

	<div class="gcse-search">
					<script>
					  if (document.location.protocol  ==  'https:') {
					  (function() {
					  var cx = '012657033059195044748:9fmjmlufts0';
					  var gcse = document.createElement('script');
					  gcse.type = 'text/javascript';
					  gcse.async = true;
					  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					      '//cse.google.com/cse.js?cx=' + cx;
					  var s = document.getElementsByTagName('script')[0];
					  s.parentNode.insertBefore(gcse, s);
					})();
					  }
				      </script> 
				      <gcse:search> </gcse:search>  

	       </div>
</div>	

	


<div id="google_translate_element" style="background: transparent;" align="right"><script type="text/javascript">
if (navigator.userAgent.indexOf("NT 6.2") == -1) {
		function googleTranslateElementInit() {
	  new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'en,de,fr,it,es,pt,ru,uk,ar,zh-CN,zh-TW,ko,iw,hi,ja,tr', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
		}						}
	</script>
	<script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
	</script>
</div>		
<div id="main">

<h1>Using Multiple KFLOP/Kogna Boards</h1>

<p>The <em><strong>KMotion</strong></em> Driver Library allows multiple PC processes 
(applications), each running multiple threads of execution, to communicate with 
multiple <em><strong>KFLOP/Kogna</strong></em> boards simultaneously. Each <em><strong>KFLOP/Kogna</strong></em> board is identified by a 32 bit integer.</p>
<p>A value of:</p>
<p>0 - Requests use of the first KFLOP or Kogna board that is discovered</p>
<p>&lt; 0x00FFFFFF - indicates a USB Location ID of a KFLOP</p>
<p>0xFF000XXX - specifies to use a Kogna board discovered that has Serial Number XXX</p>
<p>Otherwise - specifies a static IP Address (big endian) where 0xC0A80A64 would correspond to 192.168.10.100</p>
<p> USB 
  devices are arranged in a tree structure of hubs and nodes. Each 
  hexadecimal digit of the USB location specifies a branch in the tree structure. 
  For the purposes of the <em><strong>KMotion</strong></em> Driver Library, a USB location 
  identifier may simply be considered a unique integer that will remain the same 
  as long as the structure of the USB tree is not altered. Adding or 
  removing USB devices will not change the location of a connected <em><strong>KMotion</strong></em> 
  board.</p>
<p>Selecting the USB/IP Locations menu of the <em><strong>KMotion</strong></em> Setup and 
Tuning application, will display a list of all currently connected <em><strong>KMotion</strong></em> 
boards (KFLOPs and/or Kognas). The Checkmark indicates which board the application is currently 
communicating with. To switch to a different board, select the USB 
location from the list.</p>

<p><img src="Multip1.png" width="352" height="159" alt="Multiple boards" /></p>
<p>&nbsp;</p>
<p>To enter a IP Address manually select Manual IP and the entry form below will be shown.</p>
<p><img src="ManualIP.png" width="292" height="141" alt=""/></p>
<p>&nbsp;</p>

<p>When launching the <em><strong>KMotion</strong></em> Setup and Tuning application, a 
command line parameter may be specified to connect to a specific USB/IP location 
(see below on how to setup a shortcut to connect to a specific location). 
Multiple shortcuts may be setup to connect to individual boards. A hexadecimal value preceded with 0x may be specified or an IP Address can be specified with the -i option such as -i 192.168.10.100</p>

<p><img src="KMotionShortcut.PNG" width="367" height="509" alt="Multiple boards" /> 

 <img src="Multip2.gif" width="117" height="282" alt="Multiple boards" /></p>

<p>The <em><strong>KMotion</strong></em> Driver Library has a 
function to list the  locations of all currently discovered <em><strong>KFLOP/Kogna </strong></em> 
boards. See:</p>
<p class="code"><span class="indent"><a href="KMotionDLLDriver/KMotionDLL.htm#ListLocations">int ListLocations(int 
*nlocations, int *list);</a></span></p>


<p>The reurned list will contain all the KFLOP and Kogna's discovered.  Each KFLOP discovered will have one entry containing the USB Location ID where it is connected.  Each Kogna discovered will have 2 entries.  The first as the Ethernet IP Address.  The second will contain the Kogna's Serial Number in the format 0xFF000XXX where XXX is the hexadecimal serial number.</p>
<p>PC Applications specify the Board ID as a parameter when creating a CKMotionDLL object to communicate with a board. For example:</p>
	<p class="code"><span class="indent"><a href="KMotionDLLDriver/KMotionDLL.htm#ListLocations">CKMotionDLL *KM = new CKMotionDLL(ID);</a></span></p>
	

	</div>
</body>

</html>
