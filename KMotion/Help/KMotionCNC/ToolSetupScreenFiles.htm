<!DOCTYPE html>
<html>
<head>

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="Expires" content="0"/>


<meta name="keywords" content="ethernet 16-axis controller, cnc control, motion control, cnc boards, 4-axis, 8-axis, stepper, brushless, DC motor, servo, encoder, adc, dac, motion controller, automated motion, manufacturing, Mach3">
<meta name="description" content="Manufacturer of premium motion control products for CNC Manufacturing, Robotics and Automation">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta http-equiv="Content-Language" content="en-us">
<title>Tool Setup Screen - Files &amp; Main Dialog Face</title>

<link rel="stylesheet" type="text/css" href="../css/style.css">
<link rel="stylesheet" href="../css/prism.css" data-noprefix />
<script src="../js/prism.js"></script>
</head>

<body>

<div id="logo"><a href="../index.htm"></a></div>

<div id="home">
<a href="../index.htm">Table of contents</a> |  
	<script>
		if (navigator.userAgent.indexOf("NT 6.2") == -1){
			document.write('<a href="https://www.dynomotion.com">Dynomotion home page</a>')
		} else {
			document.write('<a href="https://www.dynomotion.com" target="_blank">Dynomotion home page</a>')
		}
	</script>
</div>
	
<div id="searchNav">

	<div class="gcse-search">
					<script>
					  if (document.location.protocol  ==  'https:') {
					  (function() {
					  var cx = '012657033059195044748:9fmjmlufts0';
					  var gcse = document.createElement('script');
					  gcse.type = 'text/javascript';
					  gcse.async = true;
					  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					      '//cse.google.com/cse.js?cx=' + cx;
					  var s = document.getElementsByTagName('script')[0];
					  s.parentNode.insertBefore(gcse, s);
					})();
					  }
				      </script> 
				      <gcse:search> </gcse:search>  

	       </div>
</div>	

	


<div id="google_translate_element" style="background: transparent;" align="right"><script type="text/javascript">
if (navigator.userAgent.indexOf("NT 6.2") == -1) {
		function googleTranslateElementInit() {
	  new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'en,de,fr,it,es,pt,ru,uk,ar,zh-CN,zh-TW,ko,iw,hi,ja,tr', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
		}						}
	</script>
	<script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
	</script>
</div>		
<div id="main">
	
<h1>Tool Setup Screen - Files &amp; Main Dialog Face</h1>

<p>
<map name="FPMap0">
<area href="#Tool_Table_File" shape="rect" coords="26, 54, 614, 83">
<area href="#Setup_File" shape="rect" coords="28, 82, 497, 103">
<area href="#Geo_File" shape="rect" coords="31, 100, 509, 125">
<area href="#Main_Dialog_Face" shape="rect" coords="65, 148, 426, 172">
<area href="ToolSetupScreenM3.htm" shape="rect" coords="8, 21, 53, 41">
<area href="ToolSetupScreenM100.htm" shape="rect" coords="52, 19, 102, 42">
<area href="ToolSetupScreenButtons.htm" shape="rect" coords="93, 17, 161, 42">
<area href="ToolSetupScreenTP.htm" shape="rect" coords="233, 20, 333, 38">
<area href="#Vars_File" shape="rect" coords="31, 121, 497, 148">
</map>
<img src="KMotionCNCfiles/ToolSetupFiles.PNG" usemap="#FPMap0" alt="Tool Setup Files" /><br />
<span class="small">(Click on image to jump to related help)</span></p>

<p>The Tool Setup Screen allows <em>KMotionCNC</em> to be configured for a 
particular machine tool. Each machine tool is likely to have different 
motion resolution, speeds, and acceleration limits. It is also likely to 
different I/O requirements with regard to Spindle control and such. 
Additionally a machine may have different initialization and homing 
requirements. <em>KMotionCNC</em> has a flexible mechanism for defining what 
type of action is to be performed for various M Codes and Custom Buttons.</p>

<h2><a name="Tool_Table_File">Tool Table File</a></h2>

<p><img src="KMotionCNCfiles/ToolTableFile.png" align="left" alt="Tool Table File" /></p>

<div style="clear: both;"></div>

<p>The Tool Table File specifies the disk text file which contains the table of 
tool definitions. In some cases the G Code Interpreter needs to know the 
length and diameter of the selected tool for tool path compensation. This 
file is used to define up to 99 tools. See also <a href="KMotionCNC.htm#Tool">Selecting Tools</a>.</p>
	
<p>See below for an example Tool Table: </p>   

<pre>
	POC FMS  LEN   DIAM  COMMENT

	1    1   0.0   0.0   first tool

	2    2   0.0   0.0

	3    3   1.0   0.5

	4    4   2.0   1.0

	32  32   0.0   0.0   last tool
</pre>

<h2><a name="Setup_File">Setup File</a></h2>

<p><img src="KMotionCNCfiles/SetupTableFile.png" alt="Setup File" /></p>

<div style="clear: both;"></div>

<p>The Setup File specifies the disk text file which contains the setup table 
for the G Code Interpreter. In some machine tools the Interpreter may 
require a special initialization state. Below is the default Setup file. 
Modifications to the setup file should not normally be required.</p>
<pre>
  	Attribute                 Value       	Other Possible Values
  
  	axis_offset_x             0.0         	any real number
  	axis_offset_y             0.0         	any real number
  	axis_offset_z             0.0         	any real number
  	block_delete              ON          	OFF
  	current_x                 0.0         	any real number
  	current_y                 0.0         	any real number
  	current_z                 0.0         	any real number
  	cutter_radius_comp        OFF         	LEFT, RIGHT
  	cycle_r                   0.0         	any real number
  	cycle_z                   0.0         	any real number not less than cycle_r
  	distance_mode             ABSOLUTE    	INCREMENTAL
  	feed_mode                 PER_MINUTE  	INVERSE_TIME
  	feed_rate                 5.0         	any positive real number
  	flood                     OFF         	ON
  	length_units              MILLIMETERS 	INCHES
  	mist                      OFF         	ON
  	motion_mode               80          	0,1,2,3,81,82,83,84,85,86,97,88,89
  	plane                     XY          	YZ, ZX
  	slot_for_length_offset    1           	any unsigned integer less than 69
  	slot_for_radius_comp      1           	any unsigned integer less than 69
  	slot_in_use               1           	any unsigned integer less than 69
  	slot_selected             1           	any unsigned integer less than 69
  	speed_feed_mode           INDEPENDENT 	SYNCHED
  	spindle_speed             1000.0      	any non-negative real number
  	spindle_turning           STOPPED     	CLOCKWISE, COUNTERCLOCKWISE
  	tool_length_offset        0.0         	any non-negative real number
  	traverse_rate             199.0       	any positive real number
</pre>

<h2><a name="Geo_File"></a>Geo File</h2>

<p><img src="KMotionCNCfiles/GeoFile.PNG" width="555" height="40" alt="Geo File" /></p>

<div style="clear: both;"></div>

<p>Geometric correction file. Allows correcting errors in the the x,y,z 
positions. The callibration procedure involves moving the tool tip 
to an xy array of positions. For example, a precision grid might be 
printed on a glass or Mylar plate. By Jogging the tool tip to each row and 
column grid point and recording the machine's x,y,z position, a table of machine 
coordinates that correspond to perfect coordinates may be obtained. The 
&quot;measure&quot; button on the main KMotionCNC Screen may be used to log these 
positions. If such a table is specified here, the system will correct 
machine coordinates by bilinear xy interpolation of this table. Z is 
corrected for flatness at the plane of z=0 only.</p>

<p>The table format is shown below.</p>
<p>The first line specifies the number of rows and columns in the table.</p>
<p>The second line specifies the delta x and delta y between gridpoints.</p>
<p>The 3rd line defines any Table x,y offset. With an 
        offset of 0,0 grid point row=0,col=0 will correspond to x=0, y=0. 
        Specifying an offset will shift the table so that row=0, col=0 will correspond 
        to the offset position. For example if the machine coordinates are such 
        that the origin is in the middle of the range of travel, then a negative offset 
      would be specified.</p>
<p>The remaining lines are row, column, x, y, z table entries.</p>
<p>For more information see <a href="GeoCorrection.htm">here</a>.</p>

<pre>
  	5	5
	1	1
	0	0
	0	0	-1.767822	-2.129132	-0.331770
	0	1	-0.878572	-2.068192	-0.262691
	0	2	 0.036983	-1.979272	-0.234576
	0	3	 0.930314	-1.909252	-0.237177
	0	4	 1.836404	-1.805593	-0.236061
	1	0	-1.774018	-1.155364	-0.219091
	1	1	-0.882401	-1.073801	-0.179651
	1	2	 0.021794	-0.987806	-0.141523
	1	3	 0.918408	-0.885504	-0.130446
	1	4	 1.792961	-0.811495	-0.124016
	2	0	-1.771149	-0.166872	-0.121132
	2	1	-0.883159	-0.075746	-0.074570
	2	2	 0.007254	 0.005231	-0.051105
	2	3	 0.889548	 0.097292	-0.035076
	2	4	 1.762710	 0.190093	-0.016807
	3	0	-1.761705	 0.784817	-0.086695
	3	1	-0.885633	 0.869580	-0.025417
	3	2	 0.001747	 1.008045	 0.017727
	3	3	 0.880585	 1.108997	 0.059038
	3	4	 1.742520	 1.204385	 0.058162
	4	0	-1.729192	 1.783193	 0.021364
	4	1	-0.871298	 1.868678	 0.054451
	4	2	 0.005017	 1.979718	 0.104414
	4	3	 0.878944	 2.104289	 0.141666
	4	4	 1.714383	 2.182679	 0.144980
</pre>
<h2><a name="Vars_File">Vars File</a></h2>

<p><img src="KMotionCNCfiles/VarsFile.png" width="679" height="40" alt="Vars File" /></p>

<div style="clear: both;"></div>

<p>The Vars File is used to save all the GCode Variables 
which contain <a href="EditFixtureOffsets.htm">Fixture Offsets</a> as well as 
other values. When Variables are saved to disk the file must already exist 
which lists which variables are to be saved. The file is read and all the 
variables present in the file will be replaced with their current values. 
Variables 5221-5226 contain the XYZABC coordinates of the first fixture offset. 
Skip 20 for each successive fixture.</p>

<h2><a name="Main_Dialog_Face">Main Dialog Face</a></h2>

<p><img src="KMotionCNCfiles/Main Dialog Face.png" width="514" height="187" alt="Main Dialog Face" /></p>

<div style="clear: both;"></div>

<p>The Main Dialog Face selection selects the look of the main operation screen 
for KMotionCNC. Currently there are several available selections. 
The main difference is the number of axes, DROs and jog buttons. It is 
also possible to alter the dialogs by using a Windows<sup>TM</sup> 
Resource Editor in Microsoft Visual Studio.</p>

<p>By selecting &ldquo;Custom&rdquo;, users can load cusom screen script files which can be  created and modified using the <a href="http://www.dynomotion.com/wiki/index.php?title=KMotionCNC_Screen_Editor">KMotionCNC  Screen Editor</a>.</p>

<p><img src="KMotionCNCfiles/Main Dialog Face Screen Script Files.png" width="710" height="82" alt="Screen Script Files" /></p>

<p>&nbsp;</p>
	</div>
</body>

</html>
